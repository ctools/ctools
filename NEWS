New Features and Important Changes in ctools 2.0.0

3 December 2020


Introduction
------------
This document briefly summarizes the changes that have been made in this
ctools release with respect to the precedent release.


Configuration
-------------
None


Documentation
-------------
None


Python interface
----------------
None


Support model
-------------
None


Base classes
------------
None


ctbin - CTA event binning
-------------------------
Removed implicit conversion warning during C++ compilation (#3324).


ctbkgcube - CTA background cube generation
------------------------------------------
None


ctbutterfly - Generate butterfly diagrams
-----------------------------------------
None


ctcubemask - CTA cube filtering
-------------------------------
None


ctedispcube - CTA energy dispersion cube generation
---------------------------------------------------
None


cterror - Likelihood profile error computation
----------------------------------------------
None


ctexpcube - CTA exposure cube generation
----------------------------------------
None


ctfindvar - Variability search
------------------------------
None


ctlike - Maximum likelihood fitting
-----------------------------------
Added the "refit_if_failed" parameter that instructs ctlike to do a refit in
case that the initial fit failed. Failures considered are a stalled fit, an
exhaustion of the maximum number of fit iterations, or a significant difference
between the number of observed and predicted events.

Added to the log file the "Total number of iterations" which is the sum of the
iterations in the initial fit and a potential refit.

The model fitting results, such as log-likelihood value, number of iterations
etc. are now added to the output XML file (#3431).

A bug was fixed in the implementation of the "fix_spat_for_ts" parameter that
only fixed the spatial parameters for the first of the sky models but left
the spatial parameters free for all additional sky models. Now the parameters
are fixed for all sky models (#3426).


ctmapcube - CTA map cube generation
-----------------------------------
None


ctmodel - CTA counts cube modelling
-----------------------------------
None


ctobssim - CTA observation simulation
-------------------------------------
Added models() method allowing for a setting of the model container without
using the "inmodels" parameter (#3441).


ctphase - Event phase computation
---------------------------------
None


ctprob - Event probability computation
--------------------------------------
None


ctpsfcube - CTA point spread function cube generation
-----------------------------------------------------
None


ctselect - CTA event selection
------------------------------
Replaced std::tmpnam() by gammalib::tmpnam() function in ctselect (#3324).


ctskymap - CTA sky mapping
--------------------------
None


cttsmap - Generation of Test Statistic map
------------------------------------------
None


ctulimit - Compute upper limit
------------------------------
None


support - Support classes
-------------------------
None


csbkgmodel - Generate background model for 3D analysis
------------------------------------------------------
None


cscaldb - Inspect calibration database
--------------------------------------
None


csebins - Generate energy boundaries
------------------------------------
None


csfindobs - Find IACT observations
----------------------------------
None


csiactcopy - Copy IACT observations
-----------------------------------
None


csiactdata - Inspect IACT data store
------------------------------------
None


csiactobs - Inspect IACT observation definition XML file
--------------------------------------------------------
None


cslightcrv - Generate light curve
---------------------------------
Added support for rectangular On/Off regions. The "srcshape" parameter now
can now be set to "RECT" to use rectangular sky regions. The parameter is now
automatic. The parameters "width", "height", and "posang" were added to specify
the width, height and position angle of the rectangular sky regions (#3248).


csmodelinfo - Return model information
--------------------------------------
None


csmodelmerge - Merge models
---------------------------
None


csmodelselect - Select models
-----------------------------
None


csmodelsois - Puts selected sources in diffuse model cube
---------------------------------------------------------
None


csobs2caldb - Generate calibration database entry for an IACT observation
-------------------------------------------------------------------------
None


csobsdef - Generate observation definition XML file
---------------------------------------------------
None


csobsinfo - Return observation definition information
-----------------------------------------------------
None


csobsselect - Select observations
---------------------------------
None


csphagen - Generate On/Off observations
---------------------------------------
Added support for rectangular On/Off regions. The "srcshape" parameter now
can now be set to "RECT" to use rectangular sky regions. The parameter is now
automatic. The parameters "width", "height", and "posang" were added to specify
the width, height and position angle of the rectangular sky regions (#3248).


csphasecrv - Generate phase curve
---------------------------------
Added support for rectangular On/Off regions. The "srcshape" parameter now
can now be set to "RECT" to use rectangular sky regions. The parameter is now
automatic. The parameters "width", "height", and "posang" were added to specify
the width, height and position angle of the rectangular sky regions (#3248).


cspull - Generate pull distributions
------------------------------------
None


csresmap - Generate residual map
--------------------------------
None


csresspec - Generate residual spectrum
--------------------------------------
None


csroot2caldb - Generates calibration database from ROOT file
------------------------------------------------------------
None


csscs - Spectral component separation
-------------------------------------
Added support for rectangular On/Off regions. The "srcshape" parameter now
can now be set to "RECT" to use rectangular sky regions. The parameter is now
automatic. The parameters "width", "height", and "posang" were added to specify
the width, height and position angle of the rectangular sky regions (#3248).


cssens - Computes sensitivity curve
-----------------------------------
None


csspec - Generates Spectral Energy Distribution
-----------------------------------------------
None


cssrcdetect - Detects sources in sky map
----------------------------------------
None


cstsdist - Computes Test Statistic distribution
-----------------------------------------------
None


cstsmapmerge - Merge Test Statistic maps
----------------------------------------
None


cstsmapsplit - Prepare split Test Statistic computation
-------------------------------------------------------
None


csviscube - Generate visibility cube
------------------------------------
None


csworkflow - Execute workflow
-----------------------------
None


calutils - Calibration utilities
--------------------------------
None


ioutils - Input/Output utilities
--------------------------------
None


modutils - Model utilities
--------------------------
None


mputils - Multiprocessing utilities
-----------------------------------
None


obsutils - Observation utilities
--------------------------------
Added support for rectangular On/Off regions in get_onoff_obs(). The "srcshape"
parameter now can now be set to "RECT" to use rectangular sky regions. The
parameter is now automatic. The parameters "width", "height", and "posang" were
added to specify the width, height and position angle of the rectangular sky
regions (#3248).


Examples
--------
None


caldb
-----
None


models
------
None
