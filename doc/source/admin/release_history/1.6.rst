.. _1.6:

ctools 1.6 release
==================

Overview
--------

ctools 1.6 is a major release that adds significant functionality.

In particular, this release provides:

* Support for Xspec spectral analysis
* Improved computation speed for :ref:`ctskymap` and :ref:`csphagen`
* Parallelisation of various cscripts
* Support for Python pickeling


Bug fixes
---------

* [`2652 <https://cta-redmine.irap.omp.eu/issues/2652>`_] -
  Defer import of ``ROOT`` module in :ref:`csroot2caldb` to run method
* [`2456 <https://cta-redmine.irap.omp.eu/issues/2456>`_] -
  Handle zero model for ``SUBDIV method`` in ``show_response.py``
* [`2448 <https://cta-redmine.irap.omp.eu/issues/2448>`_] -
  Fix bug when using precomputed model in :ref:`csresspec`
* [`2420 <https://cta-redmine.irap.omp.eu/issues/2420>`_] -
  Keep existing library path in installation script on Mac OS X


Improvements
------------

* [`2670 <https://cta-redmine.irap.omp.eu/issues/2670>`_] -
  Use ``ENERG`` instead of ``ETRUE`` in energy dispersion axis names in
  :ref:`csroot2caldb`
* [`2659 <https://cta-redmine.irap.omp.eu/issues/2659>`_] -
  Add hidden ``use_irf_bkg`` parameter to :ref:`csphagen`
* [`2656 <https://cta-redmine.irap.omp.eu/issues/2656>`_] -
  Use full ``RMF`` true energy range for On/Off analysis in :ref:`csspec`
* [`2513 <https://cta-redmine.irap.omp.eu/issues/2513>`_] -
  Transparently update parameter files
* [`2490 <https://cta-redmine.irap.omp.eu/issues/2490>`_] -
  Change formula for number of true energy bins in :ref:`csphagen`
* [`2421 <https://cta-redmine.irap.omp.eu/issues/2421>`_] -
  Add `nthreads` parameter to :ref:`ctobssim`, :ref:`ctbin`, :ref:`ctlike`, :ref:`cterror`
  and :ref:`ctmodel` to control parallel computations
* [`2404 <https://cta-redmine.irap.omp.eu/issues/2404>`_] -
  :ref:`csphagen` produces Xspec compliant data
* Add ``show_rmf.py`` example script
* [`2343 <https://cta-redmine.irap.omp.eu/issues/2343>`_] -
  Change CTA 3D background ``BGD`` keywords to ``BKG``
* [`2313 <https://cta-redmine.irap.omp.eu/issues/2313>`_] -
  Add `ras()` and `decs()` methods to :ref:`csobsinfo`
* [`2312 <https://cta-redmine.irap.omp.eu/issues/2312>`_] -
  Also compute TS in :ref:`csspec` for On/Off analysis using wstat statistic
* [`2311 <https://cta-redmine.irap.omp.eu/issues/2311>`_] -
  Allow specifying of input skymap to :ref:`ctskymap` tool
* [`2309 <https://cta-redmine.irap.omp.eu/issues/2309>`_] -
  Accelerate `IRF` and `RING` background methods in :ref:`ctskymap`
* [`2233 <https://cta-redmine.irap.omp.eu/issues/2233>`_] -
  Add upper limit computation is :ref:`csspec` for ``NODES`` method
* [`2045 <https://cta-redmine.irap.omp.eu/issues/2045>`_] -
  Define MET with respect to the observation time reference or the ``mjdref``
  user parameter (#2054)


New features
------------

* [`2421 <https://cta-redmine.irap.omp.eu/issues/2421>`_] -
  Parallelise :ref:`cslightcrv`, :ref:`csphasecrv`, :ref:`csspec`, :ref:`cssens`,
  :ref:`csphagen`, :ref:`cspull` and :ref:`cstsdist`
* [`1938 <https://cta-redmine.irap.omp.eu/issues/1938>`_] -
  Support pickeling of ctools and cscripts in Python


Clean up
--------

* Remove ``ctools::is_valid_filename()`` method
* [`2045 <https://cta-redmine.irap.omp.eu/issues/2045>`_] -
  Remove ``ctools::time_reference`` constant
